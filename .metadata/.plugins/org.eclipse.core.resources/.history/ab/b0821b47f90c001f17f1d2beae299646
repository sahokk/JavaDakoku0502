package db_control;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;

public abstract class DbControl {
	static Connection sqlCon;
	static PreparedStatement sqlStmt;
	static String sqlUserID = "testuser";
	static String sqlPassword = "giken2";

	private static boolean flagLogin;

	public DbControl() {
		flagLogin = false;
	}

	static void connectDB() throws SQLException{
		try {
			String url = "jdbc:mysql://localhost:3306/db_giken2";
			sqlCon = DriverManager.getConnection(url, sqlUserID, sqlPassword);
			System.out.println("success");
		} catch (SQLException e) {
			throw e;
		} finally {
			try {
				if (sqlCon != null) {
					sqlCon.close();
					System.out.println("success");
				}

			} catch (SQLException e2) {
				throw e2;
			}
		}
	}

	private static void closeDB() {
		try {
			sqlStmt.close();
			sqlCon.close();
		} catch (SQLException e) {
			e.printStackTrace();
		}
	}

	protected abstract String getLoginId();

	protected abstract String getLoginPass();

	protected abstract void setLoginId(String loginId);

	protected abstract void setLoginPass(String loginPass);

}
